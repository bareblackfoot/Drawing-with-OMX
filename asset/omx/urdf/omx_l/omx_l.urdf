<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from omx_l.urdf.xacro               | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="omx_l">
  <link name="world"/>
  <joint name="world_fixed" type="fixed">
    <parent link="world"/>
    <child link="link0"/>
    <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
  </joint>
  <link name="link0">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://open_manipulator_description/meshes/omx_l//leader_01_base_roll.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey">
        <color rgba="0.2 0.2 0.2 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://open_manipulator_description/meshes/omx_l//leader_01_base_roll.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey">
        <color rgba="0.2 0.2 0.2 1"/>
      </material>
    </collision>
    <inertial>
      <origin xyz="-1.238633200e-02 -5.447235500e-03 1.744509700e-02"/>
      <mass value="1.451075000e-01"/>
      <inertia ixx="2.628250300e-04" ixy="-5.614281600e-06" ixz="7.685931300e-06" iyy="1.477645100e-04" iyz="1.937324800e-06" izz="3.204220800e-04"/>
    </inertial>
  </link>
  <joint name="joint1" type="revolute">
    <parent link="link0"/>
    <child link="link1"/>
    <origin rpy="0 0 0" xyz="-0.0095 0 0.0545"/>
    <axis xyz="0 0 1"/>
    <limit effort="1000" lower="-6.283185307179586" upper="6.283185307179586" velocity="4.8"/>
    <dynamics damping="0.05"/>
  </joint>
  <link name="link1">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://open_manipulator_description/meshes/omx_l//leader_02_base_tilt_revised.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey">
        <color rgba="0.2 0.2 0.2 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://open_manipulator_description/meshes/omx_l//leader_02_base_tilt_revised.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey">
        <color rgba="0.2 0.2 0.2 1"/>
      </material>
    </collision>
    <inertial>
      <origin xyz="2.835039900e-05 2.751132400e-04 3.128092400e-02"/>
      <mass value="2.527095100e-02"/>
      <inertia ixx="4.407733000e-06" ixy="-5.103192400e-11" ixz="2.755486200e-09" iyy="4.218083500e-06" iyz="-1.016729100e-08" izz="1.868043300e-06"/>
    </inertial>
  </link>
  <joint name="joint2" type="revolute">
    <parent link="link1"/>
    <child link="link2"/>
    <origin rpy="0 0 0" xyz="0 0 0.042"/>
    <axis xyz="0 1 0"/>
    <limit effort="1000" lower="-6.283185307179586" upper="6.283185307179586" velocity="4.8"/>
    <dynamics damping="0.1"/>
  </joint>
  <link name="link2">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://open_manipulator_description/meshes/omx_l//leader_03_middle_vertical.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey">
        <color rgba="0.2 0.2 0.2 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://open_manipulator_description/meshes/omx_l//leader_03_middle_vertical.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey">
        <color rgba="0.2 0.2 0.2 1"/>
      </material>
    </collision>
    <inertial>
      <origin xyz="1.424917700e-02 1.724114700e-04 6.876064000e-02"/>
      <mass value="4.770623100e-02"/>
      <inertia ixx="5.756046900e-05" ixy="-7.916400900e-08" ixz="-1.442184500e-05" iyy="6.581561500e-05" iyz="-5.987367400e-08" izz="1.652415800e-05"/>
    </inertial>
  </link>
  <joint name="joint3" type="revolute">
    <parent link="link2"/>
    <child link="link3"/>
    <origin rpy="0 0 0" xyz="0.0375 0 0.09"/>
    <axis xyz="0 1 0"/>
    <limit effort="1000" lower="-6.283185307179586" upper="6.283185307179586" velocity="4.8"/>
    <dynamics damping="0.1"/>
  </joint>
  <link name="link3">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://open_manipulator_description/meshes/omx_l//leader_04_middle_horizontal.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey">
        <color rgba="0.2 0.2 0.2 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://open_manipulator_description/meshes/omx_l//leader_04_middle_horizontal.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey">
        <color rgba="0.2 0.2 0.2 1"/>
      </material>
    </collision>
    <inertial>
      <origin xyz="8.282742400e-02 1.724150100e-04 1.823923200e-04"/>
      <mass value="4.770623100e-02"/>
      <inertia ixx="5.604141500e-06" ixy="-1.407750000e-07" ixz="-4.627927600e-08" iyy="9.456674600e-05" iyz="1.755014700e-09" izz="9.723161700e-05"/>
    </inertial>
  </link>
  <joint name="joint4" type="revolute">
    <parent link="link3"/>
    <child link="link4"/>
    <origin rpy="0 0 0" xyz="0.1275 0 0"/>
    <axis xyz="0 1 0"/>
    <limit effort="1000" lower="-6.283185307179586" upper="6.283185307179586" velocity="4.8"/>
    <dynamics damping="0.1"/>
  </joint>
  <link name="link4">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://open_manipulator_description/meshes/omx_l//leader_05_tip_roll.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey">
        <color rgba="0.2 0.2 0.2 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://open_manipulator_description/meshes/omx_l//leader_05_tip_roll.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey">
        <color rgba="0.2 0.2 0.2 1"/>
      </material>
    </collision>
    <inertial>
      <origin xyz="2.226281200e-02 6.543368700e-05 5.886435800e-03"/>
      <mass value="3.043181200e-02"/>
      <inertia ixx="5.235858000e-06" ixy="2.348720300e-08" ixz="-9.501811500e-07" iyy="7.464600400e-06" iyz="1.225658100e-09" izz="6.780770900e-06"/>
    </inertial>
  </link>
  <joint name="joint5" type="revolute">
    <parent link="link4"/>
    <child link="link5"/>
    <origin rpy="0 0 0" xyz="0.0287 0 0"/>
    <axis xyz="1 0 0"/>
    <limit effort="1000" lower="-6.283185307179586" upper="6.283185307179586" velocity="4.8"/>
    <dynamics damping="0.1"/>
  </joint>
  <link name="link5">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://open_manipulator_description/meshes/omx_l//leader_06_tip_pan_revised.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey">
        <color rgba="0.2 0.2 0.2 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://open_manipulator_description/meshes/omx_l//leader_06_tip_pan_revised.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey">
        <color rgba="0.2 0.2 0.2 1"/>
      </material>
    </collision>
    <inertial>
      <origin xyz="3.612422300e-02 2.809335000e-04 2.357443900e-05"/>
      <mass value="3.962965900e-02"/>
      <inertia ixx="1.056164100e-05" ixy="7.001923500e-08" ixz="6.009266300e-06" iyy="2.169751100e-05" iyz="-9.883190500e-08" izz="1.515746000e-05"/>
    </inertial>
  </link>
  <joint name="gripper_joint_1" type="revolute">
    <parent link="link5"/>
    <child link="link6"/>
    <origin rpy="0 0 0" xyz="0.0298 0 0.0175"/>
    <axis xyz="0 1 0"/>
    <limit effort="1000" lower="-6.283185307179586" upper="6.283185307179586" velocity="4.8"/>
    <dynamics damping="0.1"/>
  </joint>
  <link name="link6">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://open_manipulator_description/meshes/omx_l//leader_07_tip_grip.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey">
        <color rgba="0.2 0.2 0.2 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://open_manipulator_description/meshes/omx_l//leader_07_tip_grip.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey">
        <color rgba="0.2 0.2 0.2 1"/>
      </material>
    </collision>
    <inertial>
      <origin xyz="2.848595800e-02 3.991033600e-05 3.499505900e-04"/>
      <mass value="1.961145500e-02"/>
      <inertia ixx="3.344745100e-06" ixy="4.387081200e-08" ixz="-2.497067000e-07" iyy="9.040789400e-06" iyz="-3.092786900e-09" izz="1.102437500e-05"/>
    </inertial>
  </link>
  <gazebo reference="link0">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>30.0</mu1>
    <mu2>30.0</mu2>
    <maxVel>1.0</maxVel>
    <minDepth>0.001</minDepth>
  </gazebo>
  <gazebo reference="link1">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>30.0</mu1>
    <mu2>30.0</mu2>
    <maxVel>1.0</maxVel>
    <minDepth>0.001</minDepth>
  </gazebo>
  <gazebo reference="link2">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>30.0</mu1>
    <mu2>30.0</mu2>
    <maxVel>1.0</maxVel>
    <minDepth>0.001</minDepth>
  </gazebo>
  <gazebo reference="link3">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>30.0</mu1>
    <mu2>30.0</mu2>
    <maxVel>1.0</maxVel>
    <minDepth>0.001</minDepth>
  </gazebo>
  <gazebo reference="link4">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>30.0</mu1>
    <mu2>30.0</mu2>
    <maxVel>1.0</maxVel>
    <minDepth>0.001</minDepth>
  </gazebo>
  <gazebo reference="link5">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>30.0</mu1>
    <mu2>30.0</mu2>
    <maxVel>1.0</maxVel>
    <minDepth>0.001</minDepth>
  </gazebo>
  <gazebo reference="link6">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>30.0</mu1>
    <mu2>30.0</mu2>
    <maxVel>1.0</maxVel>
    <minDepth>0.001</minDepth>
  </gazebo>
  <transmission name="trans1">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint1">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="actuator1">
      <mechanicalReduction>1</mechanicalReduction>
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </actuator>
  </transmission>
  <transmission name="trans2">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint2">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="actuator2">
      <mechanicalReduction>1</mechanicalReduction>
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </actuator>
  </transmission>
  <transmission name="trans3">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint3">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="actuator3">
      <mechanicalReduction>1</mechanicalReduction>
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </actuator>
  </transmission>
  <transmission name="trans4">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint4">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="actuator4">
      <mechanicalReduction>1</mechanicalReduction>
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </actuator>
  </transmission>
  <transmission name="trans5">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint5">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="actuator5">
      <mechanicalReduction>1</mechanicalReduction>
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </actuator>
  </transmission>
  <transmission name="trans6">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="gripper_joint_1">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="actuator6">
      <mechanicalReduction>1</mechanicalReduction>
      <hardwareInterface>PositionJointInterface</hardwareInterface>
    </actuator>
  </transmission>
  <ros2_control name="OMXLEADERSYSTEM" type="system">
    <hardware>
      <plugin>dynamixel_hardware_interface/DynamixelHardware</plugin>
      <param name="port_name">/dev/ttyACM1</param>
      <param name="baud_rate">1000000</param>
      <param name="error_timeout_ms">500</param>
      <param name="dynamixel_model_folder">/param/dxl_model</param>
      <param name="number_of_joints">6</param>
      <param name="number_of_transmissions">6</param>
      <param name="disable_torque_at_init">true</param>
      <param name="transmission_to_joint_matrix">
              1, 0, 0, 0, 0, 0,
              0, 1, 0, 0, 0, 0,
              0, 0, 1, 0, 0, 0,
              0, 0, 0, 1, 0, 0,
              0, 0, 0, 0, 1, 0,
              0, 0, 0, 0, 0, 1
            </param>
      <param name="joint_to_transmission_matrix">
              1, 0, 0, 0, 0, 0,
              0, 1, 0, 0, 0, 0,
              0, 0, 1, 0, 0, 0,
              0, 0, 0, 1, 0, 0,
              0, 0, 0, 0, 1, 0,
              0, 0, 0, 0, 0, 1
            </param>
      <param name="dynamixel_state_pub_msg_name">omx_l/dxl_state</param>
      <param name="get_dynamixel_data_srv_name">omx_l/get_dxl_data</param>
      <param name="set_dynamixel_data_srv_name">omx_l/set_dxl_data</param>
      <param name="reboot_dxl_srv_name">omx_l/reboot_dxl</param>
      <param name="set_dxl_torque_srv_name">omx_l/set_dxl_torque</param>
    </hardware>
    <joint name="joint1">
      <!-- <command_interface name="effort"/> -->
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <!-- <state_interface name="effort"/> -->
    </joint>
    <joint name="joint2">
      <!-- <command_interface name="effort"/> -->
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <!-- <state_interface name="effort"/> -->
    </joint>
    <joint name="joint3">
      <!-- <command_interface name="effort"/> -->
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <!-- <state_interface name="effort"/> -->
    </joint>
    <joint name="joint4">
      <!-- <command_interface name="effort"/> -->
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <!-- <state_interface name="effort"/> -->
    </joint>
    <joint name="joint5">
      <!-- <command_interface name="effort"/> -->
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <!-- <state_interface name="effort"/> -->
    </joint>
    <joint name="gripper_joint_1">
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <!-- <state_interface name="effort"/> -->
    </joint>
    <gpio name="dxl1">
      <param name="type">dxl</param>
      <param name="ID">1</param>
      <!-- <command_interface name="Goal Current"/> -->
      <state_interface name="Present Position"/>
      <state_interface name="Present Velocity"/>
      <!-- <state_interface name="Present Current"/> -->
      <param name="Torque Enable">0</param>
      <param name="Drive Mode">0</param>
      <param name="Operating Mode">0</param>
      <param name="Return Delay Time">0</param>
    </gpio>
    <gpio name="dxl2">
      <param name="type">dxl</param>
      <param name="ID">2</param>
      <!-- <command_interface name="Goal Current"/> -->
      <state_interface name="Present Position"/>
      <state_interface name="Present Velocity"/>
      <!-- <state_interface name="Present Current"/> -->
      <param name="Torque Enable">0</param>
      <param name="Drive Mode">0</param>
      <param name="Operating Mode">0</param>
      <param name="Return Delay Time">0</param>
    </gpio>
    <gpio name="dxl3">
      <param name="type">dxl</param>
      <param name="ID">3</param>
      <!-- <command_interface name="Goal Current"/> -->
      <state_interface name="Present Position"/>
      <state_interface name="Present Velocity"/>
      <!-- <state_interface name="Present Current"/> -->
      <param name="Torque Enable">0</param>
      <param name="Drive Mode">0</param>
      <param name="Operating Mode">0</param>
      <param name="Return Delay Time">0</param>
    </gpio>
    <gpio name="dxl4">
      <param name="type">dxl</param>
      <param name="ID">4</param>
      <!-- <command_interface name="Goal Current"/> -->
      <state_interface name="Present Position"/>
      <state_interface name="Present Velocity"/>
      <!-- <state_interface name="Present Current"/> -->
      <param name="Torque Enable">0</param>
      <param name="Drive Mode">0</param>
      <param name="Operating Mode">0</param>
      <param name="Return Delay Time">0</param>
    </gpio>
    <gpio name="dxl5">
      <param name="type">dxl</param>
      <param name="ID">5</param>
      <!-- <command_interface name="Goal Current"/> -->
      <state_interface name="Present Position"/>
      <state_interface name="Present Velocity"/>
      <!-- <state_interface name="Present Current"/> -->
      <param name="Torque Enable">0</param>
      <param name="Drive Mode">0</param>
      <param name="Operating Mode">0</param>
      <param name="Return Delay Time">0</param>
    </gpio>
    <gpio name="dxl6">
      <param name="type">dxl</param>
      <param name="ID">6</param>
      <command_interface name="Goal Position"/>
      <state_interface name="Present Position"/>
      <state_interface name="Present Velocity"/>
      <!-- <state_interface name="Present Current"/> -->
      <param name="Drive Mode">0</param>
      <param name="Operating Mode">5</param>
      <param name="Return Delay Time">0</param>
      <param name="Position P Gain">1000</param>
      <param name="Position D Gain">1500</param>
      <param name="Current Limit">300</param>
    </gpio>
  </ros2_control>
  <gazebo>
    <plugin filename="gz_ros2_control-system" name="gz_ros2_control::GazeboSimROS2ControlPlugin">
      <parameters>/home/nuri/ros2_ws/install/open_manipulator_bringup/share/open_manipulator_bringup/config/omx_l_leader/hardware_controller_manager.yaml</parameters>
    </plugin>
  </gazebo>
</robot>
