<mujoco model="omx_f_drawing">
  <compiler angle="radian" meshdir="." autolimits="true"/>

  <option integrator="implicitfast"/>

  <default>
    <joint armature="0.1" damping="10.0"/>
    <position kp="1000" kv="200" forcerange="-100 100"/>
  </default>

  <asset>
    <mesh name="follower_01_base" content_type="model/stl" file="urdf/omx_f/follower_01_base.stl" scale="0.001 0.001 0.001"/>
    <mesh name="follower_02_base_tilt_Revised" content_type="model/stl" file="urdf/omx_f/follower_02_base_tilt_Revised.stl" scale="0.001 0.001 0.001"/>
    <mesh name="follower_03_middle_verticle" content_type="model/stl" file="urdf/omx_f/follower_03_middle_verticle.stl" scale="0.001 0.001 0.001"/>
    <mesh name="follower_04_middle_horizontal" content_type="model/stl" file="urdf/omx_f/follower_04_middle_horizontal.stl" scale="0.001 0.001 0.001"/>
    <mesh name="follower_05_tip" content_type="model/stl" file="urdf/omx_f/follower_05_tip.stl" scale="0.001 0.001 0.001"/>
    <mesh name="follower_06_pan_Revised" content_type="model/stl" file="urdf/omx_f/follower_06_pan_Revised.stl" scale="0.001 0.001 0.001"/>
    <mesh name="follower_07_gripper_motorized" content_type="model/stl" file="urdf/omx_f/follower_07_gripper_motorized.stl" scale="0.001 0.001 0.001"/>
    <mesh name="follower_08_gripper_gear" content_type="model/stl" file="urdf/omx_f/follower_08_gripper_gear.stl" scale="0.001 0.001 0.001"/>
    <mesh name="pen" file="touch_pen.stl" scale="0.001 0.00044444 0.00105936"/>
  </asset>

  <worldbody>
    <geom type="mesh" rgba="0.2 0.2 0.2 1" mesh="follower_01_base"/>
    <body name="link1" pos="-0.01125 0 0.034">
      <inertial pos="-6.22362e-06 0.000604923 0.0474188" quat="0.999751 -0.0195068 -0.000523577 -0.0108265" mass="0.065987" diaginertia="2.17318e-05 2.13661e-05 1.16432e-05"/>
      <joint name="joint1" pos="0 0 0" axis="0 0 1" range="-3.14159 3.14159"/>
      <geom type="mesh" rgba="0.2 0.2 0.2 1" mesh="follower_02_base_tilt_Revised"/>
      <body name="link2" pos="0 0 0.0635">
        <inertial pos="0.0180899 0.000297788 0.0990055" quat="0.687559 0.105106 0.119393 0.708492" mass="0.0872215" diaginertia="0.000120923 0.000110522 3.4491e-05"/>
        <joint name="joint2" pos="0 0 0" axis="0 1 0" range="-1.5 1.5"/>
        <geom type="mesh" rgba="0.2 0.2 0.2 1" mesh="follower_03_middle_verticle"/>
        <body name="link3" pos="0.0415 0 0.11315">
          <inertial pos="0.0873986 0.000413101 -0.00358292" quat="0.0308724 0.692831 0.0315908 0.719746" mass="0.0837591" diaginertia="0.000231019 0.000226024 1.48898e-05"/>
          <joint name="joint3" pos="0 0 0" axis="0 1 0" range="-1.5 1.4"/>
          <geom type="mesh" rgba="0.2 0.2 0.2 1" mesh="follower_04_middle_horizontal"/>
          <body name="link4" pos="0.162 0 0">
            <inertial pos="0.023235 6.77354e-05 0.00597613" quat="0.608881 0.373182 0.376257 0.590279" mass="0.0299751" diaginertia="7.09955e-06 6.69023e-06 4.72073e-06"/>
            <joint name="joint4" pos="0 0 0" axis="0 1 0" range="-1.7 1.97"/>
            <geom type="mesh" rgba="0.2 0.2 0.2 1" mesh="follower_05_tip"/>
            <body name="link5" pos="0.0287 0 0">
              <inertial pos="0.0280724 2.41359e-05 0.0135289" quat="0.996143 0.000396881 0.0854137 -0.0200656" mass="0.0438109" diaginertia="2.42036e-05 2.32357e-05 6.67277e-06"/>
              <joint name="joint5" pos="0 0 0" axis="1 0 0" range="-1.5708 1.5708"/>
              <geom type="mesh" rgba="0.2 0.2 0.2 1" mesh="follower_06_pan_Revised"/>
              <site name="link5_site" pos="0.0590 0 0.0"/>

              <!-- Pen attached to end effector -->
              <body name="obj_pen" pos="0.09193 -0.0016 0.05" euler="0 0 0">
                <geom type="mesh" pos="0 0 0" euler="3.14159 0 0" mesh="pen"/>
                <inertial pos="0 0 0" mass="0.1" diaginertia="0.01 0.01 0.01" />
                <body name="end_effector_target" pos="0 0 -0.116">
                  <geom type="box" pos="0 0 0" size="0.001 0.001 0.001" rgba="1 0 0 1" contype="0" conaffinity="0"/>
                  <inertial pos="0 0 0" mass="0.01" diaginertia="0.01 0.01 0.01" />
                </body>
              </body>

              <!-- Gripper links -->
              <body name="link6" pos="0.0295 0.0075 0">
                <inertial pos="0.0161646 0.0012731 0.000272916" quat="0.498852 0.517636 0.496678 0.486324" mass="0.0120907" diaginertia="6.87819e-06 4.69576e-06 2.70194e-06"/>
                <joint name="gripper_joint_1" pos="0 0 0" axis="0 0 1" range="-0.5 0.5"/>
                <geom type="mesh" rgba="0.2 0.2 0.2 1" mesh="follower_07_gripper_motorized"/>
              </body>
              <body name="link7" pos="0.0295 -0.0108 0">
                <inertial pos="0.0161646 0.0012731 0.000272916" quat="0.498852 0.517636 0.496678 0.486324" mass="0.0120907" diaginertia="6.87819e-06 4.69576e-06 2.70194e-06"/>
                <joint name="gripper_joint_2" pos="0 0 0" axis="0 0 1" range="-0.5 0.5"/>
                <geom type="mesh" rgba="0.2 0.2 0.2 1" mesh="follower_08_gripper_gear"/>
              </body>
            </body>
          </body>
        </body>
      </body>
    </body>
  </worldbody>

  <!-- Exclude contact information -->
  <contact>
    <exclude body1="world" body2="link1"/>
  </contact>

  <!-- Define actuators -->
  <actuator>
    <position name="actuator_joint1" joint="joint1" ctrlrange="-3.142 3.142"/>
    <position name="actuator_joint2" joint="joint2" ctrlrange="-1.5 1.5"/>
    <position name="actuator_joint3" joint="joint3" ctrlrange="-1.5 1.4"/>
    <position name="actuator_joint4" joint="joint4" ctrlrange="-1.7 1.97"/>
    <position name="actuator_joint5" joint="joint5" ctrlrange="-1.5708 1.5708"/>
    <position name="actuator_gripper_joint" joint="gripper_joint_1" ctrlrange="-0.5 0.5"/>
  </actuator>

  <!-- Gripper mimic constraint -->
  <equality>
    <joint name="equality_gripper" active="true" joint1="gripper_joint_1" joint2="gripper_joint_2" polycoef="0 -1 0 0 0"/>
  </equality>
</mujoco>
